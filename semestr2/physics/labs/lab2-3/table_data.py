import numpy as np

# Значення ємності конденсатора С0 
C0 = 0.1e-6

# Дані з трьох таблиць у форматі 3D-масиву (таблиця, рядок, стовпець)
data = np.array([
    [  # Перша таблиця C_1x
        [1.07, 1.78, 1.59, 2.65],  
        [1.08, 1.77, 1.60, 2.65]  
    ],
    [  # Друга таблиця C_2x
        [1.08, 3.53, 1.62, 5.36],  
        [1.08, 3.54, 1.60, 5.35]  
    ],
    [  # Третя таблиця C_3x
        [1.07, 9.23, 1.58, 15.00],  
        [1.10, 9.29, 1.60, 15.03]  
    ],
    [  # Четверта таблиця C_4x
        [1.08, 12.08, 1.57, 17.63],  
        [1.10, 12.16, 1.59, 17.62]  
    ]
])

# Обчислення середнього значення по кожній таблиці
mean_values = np.mean(data, axis=1)

for i, table_mean in enumerate(mean_values, start=1):

    """
    Вивід для користувача з округленням до 3 знаків після коми
    """

    print(f"\nСередні значення ⟨n⟩ для таблиці {i}:")

    # Верхня рамка
    print("┌" + "────────────┬" * (len(table_mean) - 1) + "────────────┐")

    # Дані таблиці
    print("│ " + " │ ".join(f"{val:<10.4}" for val in table_mean) + " │")

    # Нижня рамка
    print("└" + "────────────┴" * (len(table_mean) - 1) + "────────────┘")

# Розрахунок значень ємностей
C_values = C0 * (mean_values[:, 1::2] / mean_values[:, 0::2])

# Вивід таблиці ємностей
print("\nРезультуюча матриця значень ⟨C⟩ (науковий формат):")
print("┌──────────────────┬──────────────────┐")
print("│     C(U1), Ф     │      C(U2), Ф    │")
print("├──────────────────┼──────────────────┤")

for row in C_values: print(f"│ {row[0]:<15.3e}  │ {row[1]:<15.3e}  │")

print("└──────────────────┴──────────────────┘")

# Розрахунок середнього арифметичного кожного рядка матриці значень ємностей
# Тобто розрахунок експериментально визначеної ємності без залежності від напруги
column_vector = np.mean(C_values, axis=1).reshape(-1, 1)

# Вивід результату
print("Стовпчик середніх значень:")

print("┌───────────────┐")
for row in column_vector: print(f"│  {row[0]:.3e}    │")
print("└───────────────┘")